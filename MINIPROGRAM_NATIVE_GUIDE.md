# 🎸 GuruGuitar 原生小程序开发指南

## 📋 项目概述

基于Flutter Web应用重构的原生微信小程序版本，保留核心功能的同时优化用户体验。

## 🎯 核心功能

### ✅ 已实现功能
1. **五度圈学习** - 交互式五度圈，显示调性关系
2. **指板练习** - 吉他指板可视化，音符定位练习
3. **音阶训练** - 基础功能框架（待完善）
4. **设置页面** - 基础配置（待实现）

### 🚧 待实现功能
1. **完整的音阶练习系统**
2. **CAGED和弦系统**
3. **音频播放功能**
4. **练习模式和进度跟踪**
5. **用户设置和偏好**

## 📁 项目结构

```
miniprogram/
├── app.js                 # 小程序入口，全局数据管理
├── app.json               # 小程序配置
├── app.wxss               # 全局样式
├── pages/                 # 页面目录
│   ├── circle/           # 五度圈页面
│   │   ├── circle.wxml   # 页面结构
│   │   ├── circle.js     # 页面逻辑
│   │   └── circle.wxss   # 页面样式
│   ├── fretboard/        # 指板练习页面
│   ├── scales/           # 音阶训练页面（待实现）
│   └── settings/         # 设置页面（待实现）
├── components/           # 自定义组件（待开发）
├── utils/               # 工具函数
├── images/              # 图片资源
├── project.config.json  # 项目配置
└── sitemap.json         # 站点地图
```

## 🚀 快速开始

### 前置要求
- 微信开发者工具
- 小程序AppID: `wxbe99f123abfd6ca7`

### 导入项目
1. 打开微信开发者工具
2. 选择"小程序" → "导入项目"
3. 项目目录选择：`/Users/你的用户名/Documents/workspace/guruguitar-new/miniprogram/`
4. 填入AppID: `wxbe99f123abfd6ca7`
5. 项目名称：`GuruGuitar原生版`

### 运行项目
1. 在开发者工具中点击"编译"
2. 预览效果或真机调试
3. 根据需要调整和开发

## 🎨 设计特色

### 视觉设计
- **简洁现代** - 遵循Material Design原则
- **音乐主题** - 使用音乐相关的图标和色彩
- **响应式布局** - 适配不同屏幕尺寸

### 交互设计
- **直觉操作** - 点击、滑动等自然手势
- **即时反馈** - 触觉反馈和视觉提示
- **渐进式学习** - 从基础到高级的学习路径

## 🔧 技术实现

### 数据管理
```javascript
// 全局数据结构
app.globalData = {
  circleOfFifths: [...],     // 五度圈数据
  guitarStrings: [...],      // 吉他调弦数据
  userSettings: {...}        // 用户设置
}
```

### 画布绘制
- 使用Canvas API绘制五度圈和指板
- 支持触摸交互和动态更新
- 响应式尺寸适配

### 本地存储
```javascript
// 保存用户设置
wx.setStorage({
  key: 'userSettings',
  data: settings
})
```

## 📱 功能详解

### 五度圈页面
- **交互式圆环** - 点击选择调性
- **调性信息** - 显示音阶、和弦、调号
- **相关调性** - 属调、下属调、相对小调
- **练习建议** - 根据选中调性提供练习方向

### 指板练习页面
- **可视化指板** - 标准吉他指板布局
- **音符显示** - 可切换音符名/音程显示
- **调性选择** - 支持所有调性
- **交互练习** - 点击指板播放音符

## 🎯 开发计划

### 阶段一：核心功能完善 (当前)
- [x] 五度圈基础功能
- [x] 指板练习基础功能
- [ ] 音阶练习页面
- [ ] 设置页面

### 阶段二：功能增强
- [ ] 音频播放系统
- [ ] CAGED和弦系统
- [ ] 练习模式和计时器
- [ ] 进度跟踪

### 阶段三：用户体验优化
- [ ] 动画效果
- [ ] 个性化设置
- [ ] 分享功能
- [ ] 离线支持

### 阶段四：高级功能
- [ ] AI练习建议
- [ ] 社区功能
- [ ] 云端同步

## 🛠 开发指南

### 添加新页面
1. 在`pages/`目录下创建页面文件夹
2. 创建`.wxml`, `.js`, `.wxss`文件
3. 在`app.json`中添加页面路径
4. 如需底部导航，更新`tabBar`配置

### 添加新组件
1. 在`components/`目录下创建组件
2. 定义组件的属性和方法
3. 在页面中引用和使用

### 样式开发
- 使用`rpx`作为尺寸单位（响应式像素）
- 遵循已定义的设计规范
- 重用`app.wxss`中的通用样式

## 🧪 测试和调试

### 本地调试
- 使用微信开发者工具的调试功能
- 查看Console输出和网络请求
- 使用真机预览测试性能

### 性能优化
- 控制页面大小和复杂度
- 优化图片资源
- 减少不必要的渲染

## 📦 发布部署

### 上传代码
1. 在开发者工具中点击"上传"
2. 填写版本号和备注
3. 提交审核

### 审核发布
1. 在微信公众平台查看审核状态
2. 审核通过后发布上线
3. 监控用户反馈和数据

## 🤝 参与开发

### 代码规范
- 使用ES6+语法
- 添加必要的注释
- 遵循命名规范

### 提交规范
```bash
git add .
git commit -m "feat: 添加音阶练习页面基础功能"
git push origin miniprogram-native
```

## 🎸 从Flutter到小程序的迁移

### 主要差异
1. **UI框架** - 从Flutter Widget到小程序组件
2. **状态管理** - 从Dart到JavaScript
3. **路由系统** - 小程序原生导航
4. **样式系统** - 从Flutter主题到WXSS

### 保留的核心逻辑
- 音乐理论数据结构
- 五度圈算法
- 指板计算逻辑
- 用户交互流程

## 📞 支持和反馈

- 技术问题：查看微信小程序官方文档
- 功能建议：通过GitHub Issues提交
- 代码贡献：欢迎提交Pull Request

---

🎸 **让我们一起打造最好的吉他学习小程序！**
